<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="color-scheme" content="light dark"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering | ByteAether</title><meta name="description" content="In our previous articles, we established a robust foundation for our enterprise Data Access Layer (DAL). We began with a database-first approach using C# and..."/><meta name="keywords" content="posts, Linq2Db, Database, SQL, LINQ, c#, csharp, dotnet, .net, byteaether, blog, tech, programming"/><meta name="author" content="Joonatan Uusväli"/><link rel="canonical" href="https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/"/><script type="application/ld+json">{
	"@context": "https://schema.org",
	"@type": "BlogPosting",
	"mainEntityOfPage": {
		"@type": "WebPage",
		"@id": "https://byteaether.github.io/"
	},
	"headline": "Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering",
	"description": "In our previous articles, we established a robust foundation for our enterprise Data Access Layer (DAL). We began with a database-first approach using C# and...",
	"image": "https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-1024.jpeg",
	"author": {
		"@type": "Person",
		"name": "Joonatan Uusväli"
	},
	"publisher": {
		"@type": "Organization",
		"name": "ByteAether",
		"logo": {
			"@type": "ImageObject",
			"url": "https://byteaether.github.io/assets/icon.svg"
		}
	},
	"datePublished": "2025-11-11",
	"dateModified": "2025-12-08"
}</script><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/favicon.svg" type="image/svg+xml"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta property="og:url" content="https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/"/><meta property="og:type" content="website"/><meta property="og:title" content="Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering | ByteAether"/><meta property="og:description" content="In our previous articles, we established a robust foundation for our enterprise Data Access Layer (DAL). We began with a database-first approach using C# and..."/><meta property="og:image" content="https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-1024.jpeg"/><meta property="og:image:type" content="image/jpeg"/><meta property="og:image:width" content="1024"/><meta property="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering | ByteAether"/><meta name="twitter:description" content="In our previous articles, we established a robust foundation for our enterprise Data Access Layer (DAL). We began with a database-first approach using C# and..."/><meta name="twitter:image" content="https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-1024.jpeg"/><meta name="robots" content="index, follow"/><link rel="alternate" href="https://byteaether.github.io/feed/feed.xml" type="application/atom+xml" title="ByteAether"/><meta name="format-detection" content="telephone=no"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta http-equiv="cache-control" content="public, max-age=86400, must-revalidate"/><meta name="generator" content="Eleventy v3.1.2"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LEY00265EM"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-LEY00265EM")</script><link rel="stylesheet" href="/css/dnTXazc6iC.css"/><link rel="stylesheet" href="/css/YO6a_ZKOnb.css"/><script type="text/javascript">const themeManager={init:function(){this.set(this.get())},toggle:function(){this.set("dark"==this.get()?"light":"dark")},set:function(e){document.documentElement.dataset.theme=e,localStorage.theme=e,this.updateGiscusTheme()},get:function(){return document.documentElement.dataset.theme??localStorage.theme??(window.matchMedia&&window.matchMedia("prefers-color-scheme: dark")?"dark":null)??"light"},updateGiscusTheme:function(){const e="dark"===themeManager.get()?"dark":"light",t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}};themeManager.init()</script></head><body><header><div id="header-container"><a href="/" class="header-left"><img src="/assets/icon.svg" alt="Logo" class="logo-img"/> ByteAether</a><nav class="desktop-nav"><ul><li><a href="/">Home</a></li><li><a href="/search/">Search</a></li><li><a href="/series/">Series</a></li><li><a href="/tags/">Tags</a></li><li><a href="/archive/">Archive</a></li><li><a href="/about/">About</a></li></ul></nav><div class="header-right"><a href="https://github.com/ByteAether" title="ByteAether" target="_blank"><svg class="icon" aria-hidden="true"><use href="#fab-fa-github" xlink:href="#fab-fa-github"></use></svg></a><a href="/feed/feed.xml" title="Feed" target="_blank"><svg class="icon" aria-hidden="true"><use href="#fas-fa-square-rss" xlink:href="#fas-fa-square-rss"></use></svg></a><span onclick="themeManager.toggle()"><svg class="icon" aria-hidden="true"><use href="#fas-fa-sun" xlink:href="#fas-fa-sun"></use></svg></span><label for="nav-toggle" class="burger-menu"><svg class="icon" aria-hidden="true"><use href="#fas-fa-bars" xlink:href="#fas-fa-bars"></use></svg></label></div><input type="checkbox" id="nav-toggle" class="nav-toggle"/><nav class="mobile-nav"><ul><li><a href="/">Home</a></li><li><a href="/search/">Search</a></li><li><a href="/series/">Series</a></li><li><a href="/tags/">Tags</a></li><li><a href="/archive/">Archive</a></li><li><a href="/about/">About</a></li></ul></nav></div></header><div class="content-wrapper"><main id="skip" style="grid-area:main"><heading-anchors><a href="#skip" class="visually-hidden">Skip to main content</a><article><picture><source srcset="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-400.avif" media="(width < 400px)" type="image/avif"/><source srcset="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-400.webp" media="(width < 400px)" type="image/webp"/><source srcset="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-600.avif" media="(width < 600px)" type="image/avif"/><source srcset="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-600.webp" media="(width < 600px)" type="image/webp"/><source srcset="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-1024.avif" media="(width >= 600px)" type="image/avif"/><source srcset="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-1024.webp" media="(width >= 600px)" type="image/webp"/><img src="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-1024.jpeg" alt="Illustration image for an article" class="banner" fetchpriority="high"/></picture><h1 class="post-title" data-pagefind-meta="title, image:/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/Gmiysp6zSM-300.jpeg" data-pagefind-sort="date:2025-11-11">Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering</h1><div class="post-meta"><div class="post-metadata"><div><svg class="icon" aria-hidden="true"><use href="#far-fa-calendar" xlink:href="#far-fa-calendar"></use></svg> <time datetime="2025-11-11" data-pagefind-meta="Published" title="Published at 2025-11-11, updated at 2025-12-08">2025-11-11</time> <span style="display:none" data-pagefind-filter="Year">2025</span></div><div data-words="1,837 words"><svg class="icon" aria-hidden="true"><use href="#far-fa-clock" xlink:href="#far-fa-clock"></use></svg> 9 minutes</div><div><svg class="icon" aria-hidden="true"><use href="#fas-fa-rectangle-list" xlink:href="#fas-fa-rectangle-list"></use></svg> <span class="serie" data-pagefind-filter="Series"><a href="/series/enterprise-dal/">Enterprise DAL</a></span></div><div><svg class="icon" aria-hidden="true"><use href="#fas-fa-tags" xlink:href="#fas-fa-tags"></use></svg> <span class="tag" data-pagefind-filter="Tags"><a href="/tags/linq2db/">Linq2Db</a></span> <span class="tag" data-pagefind-filter="Tags"><a href="/tags/database/">Database</a></span> <span class="tag" data-pagefind-filter="Tags"><a href="/tags/sql/">SQL</a></span> <span class="tag" data-pagefind-filter="Tags"><a href="/tags/linq/">LINQ</a></span></div></div></div><div data-pagefind-body=""><p>In our <a href="/series/enterprise-dal/">previous articles</a>, we established a robust foundation for our enterprise Data Access Layer (DAL). We <a href="/2025/building-an-enterprise-data-access-layer-database-and-code-structure/">began with a database-first approach</a> using C# and <a href="https://github.com/linq2db/linq2db" target="_blank" rel="noopener noreferrer">Linq2Db</a>, then <a href="/2025/building-an-enterprise-data-access-layer-automated-auditing/">implemented automated auditing</a> for <code>CreatedAt</code> and <code>ModifiedAt</code> timestamps. Most recently, <a href="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/">we engineered a powerful, composable global query filter system</a> to handle soft-deletes transparently. This architecture was designed for extensibility, and in this post, we will leverage that investment to tackle one of the most critical cross-cutting concerns in enterprise software: multi-tenancy.</p><p>Multi-tenancy ensures that one tenant's data is strictly isolated from another's. A failure in this area is not a minor bug, but a critical security breach. Our goal is to enforce this isolation at the lowest possible level—the DAL—to guarantee that it is impossible for business logic to accidentally query data from the wrong tenant.</p><p>We will extend our entity behavior model by introducing an <code>ITenanted</code> interface, update our database context to be tenant-aware, and enhance our scaffolding interceptor for automation. Crucially, we will also solve the complex problem of &quot;projected tenancy,&quot; where an entity's tenant affiliation is derived from a related entity.</p><p>The complete source code for this part is available on GitHub: <a href="https://github.com/ByteAether/EnterpriseDal/tree/part5" target="_blank" rel="noopener noreferrer">https://github.com/ByteAether/EnterpriseDal/tree/part5</a>.</p><h2 id="1.-establishing-tenant-context-in-the-dal" tabindex="-1">1. Establishing Tenant Context in the DAL</h2><p>Before our DAL can filter by tenant, it needs to know the identity of the current tenant for any given operation. This context is typically derived from an HTTP request, a message queue header, or a similar scope. We need a clean mechanism to pass this information down to our database context.</p><p>Previously, our <code>IDbCtx</code> was a simple marker interface. We will now extend it to carry request-scoped attributes, starting with the <code>TenantId</code>.</p><p><strong>File: <code>DAL.Base/IDbCtx.cs</code></strong></p><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">namespace</span> <span class="token namespace">DAL<span class="token punctuation">.</span>Base</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDbCtx</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IDataContext</span></span>
<span class="token punctuation">{</span>
	<span class="token return-type class-name">DbCtxAttributes</span> Attributes <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">DbCtxAttributes</span><span class="token punctuation">(</span><span class="token class-name">Ulid</span> TenantId <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>By adding the <code>Attributes</code> property, we provide a dedicated, extensible home for contextual data. We use a C# <code>record</code> for <code>DbCtxAttributes</code> to create a simple, immutable data carrier. The <code>IDbCtx</code> implementation (our <code>DbCtx</code> class) will be responsible for initializing this property. In a real application, this would be done via dependency injection at the beginning of a request scope, making the current <code>TenantId</code> available for the lifetime of that request.</p><p>For our demonstration, we will manually set this value in <code>Program.cs</code> before executing any queries. This simulates how a tenant's context would be established at the start of an operation.</p><p><strong>File: <code>App/Program.cs</code> (Addition)</strong></p><pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> tenantId <span class="token operator">=</span> Ulid<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>Attributes <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token named-parameter punctuation">TenantId</span><span class="token punctuation">:</span> tenantId<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>While we use a new Ulid here, the key is that this specific value will later appear in the generated SQL <code>WHERE</code> clause, confirming that our filter is using the context we've provided.</p><h2 id="2.-defining-the-tenancy-contract%3A-the-itenanted-interface" tabindex="-1">2. Defining the Tenancy Contract: The <code>ITenanted</code> Interface</h2><p>Following the pattern established with <code>ICreatable</code> and <code>IRemovable</code>, we will define tenancy as an entity behavior through a new interface. This interface serves two purposes: it enforces a contract that the entity must expose a <code>TenantId</code>, and it hooks into our global filter system.</p><p><strong>File: <code>DAL.Base/EntityBehavior/ITenanted.cs</code></strong></p><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">namespace</span> <span class="token namespace">DAL<span class="token punctuation">.</span>Base<span class="token punctuation">.</span>EntityBehavior</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token generic-method"><span class="token function">EntityFilter</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ITenanted<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>Filter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ITenanted</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IEntity</span></span>
<span class="token punctuation">{</span>
	<span class="token return-type class-name">Ulid</span> TenantId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name">IQueryable<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> <span class="token generic-method"><span class="token function">Filter</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token class-name">IQueryable<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> q<span class="token punctuation">,</span> <span class="token class-name">IDbCtx</span> ctx<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">T</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ITenanted</span></span>
		<span class="token operator">=></span> q<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>TenantId <span class="token operator">==</span> ctx<span class="token punctuation">.</span>Attributes<span class="token punctuation">.</span>TenantId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>This implementation is concise but powerful, directly leveraging our previous work:</p><ol><li><strong><code>Ulid TenantId { get; }</code></strong>: This property contract mandates that any class implementing <code>ITenanted</code> must provide a <code>TenantId</code> getter. This is the key piece of information needed for filtering.</li><li><strong><code>[EntityFilter&lt;ITenanted&gt;(nameof(Filter))]</code></strong>: This is the connection to our composable filter architecture. We are associating the <code>ITenanted</code> interface with a specific filter-providing method named <code>Filter</code>.</li><li><strong><code>private static IQueryable&lt;T&gt; Filter(...)</code></strong>: This method contains the filtering logic itself. It receives the current queryable (<code>q</code>) and the database context (<code>ctx</code>). It then appends a standard LINQ <code>Where</code> clause, comparing the entity's <code>TenantId</code> with the <code>TenantId</code> we stored in the context's <code>Attributes</code>.</li></ol><p>When the DAL is initialized, our <code>MappingSchema.ApplyEntityFilters&lt;DbCtx&gt;()</code> helper will discover this attribute and automatically apply this <code>Where</code> clause to every query against any entity that implements <code>ITenanted</code>.</p><h2 id="3.-automating-interface-scaffolding" tabindex="-1">3. Automating Interface Scaffolding</h2><p>To maintain our database-first philosophy, we must ensure that our generated entity classes automatically implement the <code>ITenanted</code> interface if their corresponding database tables contain a <code>tenant_id</code> column. This task is perfectly suited for our custom scaffolding interceptor.</p><p>We will add a simple check to the interceptor's logic.</p><p><strong>File: <code>DAL.ScaffoldInterceptor/Interceptor.cs</code> (Addition)</strong></p><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// ITenanted</span>
<span class="token class-name"><span class="token keyword">var</span></span> tenantIdField <span class="token operator">=</span> entityModel<span class="token punctuation">.</span>Columns<span class="token punctuation">.</span><span class="token function">FirstOrDefault</span><span class="token punctuation">(</span>x <span class="token operator">=></span>
	x<span class="token punctuation">.</span>Property<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token keyword">nameof</span><span class="token punctuation">(</span>ITenanted<span class="token punctuation">.</span>TenantId<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>tenantIdField <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	addedInterfaces<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ITenanted</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>This code snippet inspects the columns of the entity being scaffolded. If it finds a column that maps to a property named <code>TenantId</code>, it adds <code>ITenanted</code> to the list of interfaces for the generated partial class. With this change, entities like <code>user</code> which have a direct <code>tenant_id</code> column will be automatically protected by our tenancy filter without any manual intervention.</p><h2 id="4.-the-advanced-case%3A-projected-tenancy" tabindex="-1">4. The Advanced Case: Projected Tenancy</h2><p>The true test of our architecture is not in handling direct foreign keys, but in its ability to manage more complex, indirect relationships. Consider the <code>post</code> table. Its schema does not contain a <code>tenant_id</code> column. However, a post is unequivocally owned by a tenant because it belongs to a <code>user</code>, and that <code>user</code> belongs to a <code>tenant</code>. The <code>Post</code> entity's tenancy is therefore <em>projected</em> from its parent <code>User</code> entity.</p><p>Our DAL must enforce this projected relationship as a filtering rule. We need to make the <code>Post</code> entity implement <code>ITenanted</code>, but how do we implement the <code>TenantId</code> property when there is no backing column?</p><p>The solution lies in creating an expression-based property that Linq2Db can translate directly into SQL. We achieve this by manually creating a partial class for <code>Post</code> and using the <a href="http://blog.linq2db.com/2016/06/how-to-teach-linq-to-db-convert-custom.html" target="_blank" rel="noopener noreferrer"><code>[ExpressionMethod]</code></a> attribute.</p><p><strong>File: <code>DAL.Context/Entity/Post.cs</code></strong></p><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">namespace</span> <span class="token namespace">DAL<span class="token punctuation">.</span>Context<span class="token punctuation">.</span>Entity</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ITenanted</span></span>
<span class="token punctuation">{</span>
	<span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ExpressionMethod</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>GetTenantIdExpression<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
	<span class="token keyword">public</span> <span class="token return-type class-name">Ulid</span> TenantId <span class="token operator">=></span> <span class="token function">GetTenantIdExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Compile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>Post<span class="token punctuation">,</span> Ulid<span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">GetTenantIdExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token operator">=></span> x <span class="token operator">=></span> x<span class="token punctuation">.</span>User<span class="token punctuation">.</span>TenantId<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Let's dissect this implementation, as it is central to the power of our DAL:</p><ol><li><strong><code>public partial class Post : ITenanted</code></strong>: We explicitly declare that <code>Post</code> conforms to the <code>ITenanted</code> contract. We do this manually because our scaffolder did not find a <code>TenantId</code> column.</li><li><strong><code>private static Expression&lt;Func&lt;Post, Ulid&gt;&gt; GetTenantIdExpression()</code></strong>: Instead of a simple value, we define the logic for retrieving the <code>TenantId</code> as an <em>expression tree</em>. The expression <code>x =&gt; x.User.TenantId</code> is not just executable C# code, but it is a data structure that represents the navigation from a <code>Post</code> (<code>x</code>), through its <code>User</code> property, to that user's <code>TenantId</code>. Linq2Db is designed to parse these expression trees and convert them into the corresponding SQL, which in this case involves an <code>INNER JOIN</code> to the <code>user</code> table.</li><li><strong><code>[ExpressionMethod(nameof(GetTenantIdExpression))]</code></strong>: This Linq2Db attribute is the magic that connects the property to the expression tree. When Linq2Db encounters <code>post.TenantId</code> inside a LINQ query (like the one in our <code>ITenanted.Filter</code> method), this attribute instructs it to substitute the SQL translation of the <code>GetTenantIdExpression</code> method's return value.</li><li><strong><code>public Ulid TenantId =&gt; GetTenantIdExpression().Compile()(this);</code></strong>: This line handles the case where the <code>TenantId</code> property is accessed on an already-materialized <code>Post</code> object in C# memory, outside of a database query. In this scenario, Linq2Db is not involved, and the <code>[ExpressionMethod]</code> attribute has no effect. We must provide a valid C# implementation. We take our expression tree, <code>.Compile()</code> it into a runnable delegate, and then invoke it for the current <code>Post</code> instance (<code>this</code>). For performance-critical code, this compiled delegate could be cached, but we have kept it simple for clarity.</li></ol><p>This elegant solution allows the <code>TenantId</code> property to work seamlessly both within database queries (translating to SQL) and on in-memory objects (executing as C# code).</p><h2 id="5.-observing-composable-filters-in-action" tabindex="-1">5. Observing Composable Filters in Action</h2><p>We have now implemented all the necessary components. The <code>ITenanted</code> interface defines the filter, the scaffolder applies it to entities with a direct <code>TenantId</code>, and we have manually implemented it for the <code>Post</code> entity using a projected property.</p><p>Let's verify that it all works together. We add a simple query to our application's entry point and inspect the generated SQL.</p><p><strong>File: <code>App/Program.cs</code> (Addition)</strong></p><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// Set DB Context parameters</span>
ctx<span class="token punctuation">.</span>Attributes <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span>
	tenant<span class="token punctuation">.</span>Id
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Get posts that are tenanted through a user</span>
<span class="token keyword">await</span> ctx<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetTable</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Post<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ToListAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>LastQuery<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Executing this code produces the following SQL:</p><pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>user_id<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>title<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>created_at<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>modified_at<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>removed_at<span class="token punctuation">]</span>
<span class="token keyword">FROM</span>
    <span class="token punctuation">[</span>post<span class="token punctuation">]</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span>
	<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> <span class="token punctuation">[</span><span class="token keyword">user</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>a_User<span class="token punctuation">]</span> <span class="token keyword">ON</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>user_id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>a_User<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span>
<span class="token keyword">WHERE</span>
    <span class="token punctuation">[</span>a_User<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>removed_at<span class="token punctuation">]</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>
    <span class="token operator">AND</span> <span class="token punctuation">[</span>a_User<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>tenant_id<span class="token punctuation">]</span> <span class="token operator">=</span> X<span class="token string">'0199DD7C56CCCB4521596E010C8BED67'</span>
    <span class="token operator">AND</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>removed_at<span class="token punctuation">]</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span></code></pre><p>This output is a perfect confirmation of our architecture's capabilities. A simple call to <code>ToListAsync()</code> on the <code>Post</code> table has triggered a cascade of automated, composed filters:</p><ul><li><strong><code>INNER JOIN [user] [a_User] ...</code></strong>:<br/>Linq2Db generated this join automatically because the <code>ITenanted</code> filter on <code>Post</code> required access to <code>User.TenantId</code> via our <code>ExpressionMethod</code>.</li><li><strong><code>WHERE ... [a_User].[tenant_id] = ...</code></strong>:<br/>This is our new tenancy filter in action, correctly applied to the joined <code>user</code> table.</li><li><strong><code>WHERE ... [x].[removed_at] IS NULL</code></strong>:<br/>The soft-delete filter for the <code>Post</code> entity is present, as expected from our previous work.</li><li><strong><code>WHERE ... [a_User].[removed_at] IS NULL</code></strong>:<br/>The soft-delete filter for the <code>User</code> entity has <em>also</em> been applied to the joined table. Our system correctly aggregates filters for all entities involved in the query.</li></ul><p>This demonstrates the power of composable filters. Each rule (soft-delete, tenancy) is defined independently, yet the system correctly combines them into a single, comprehensive <code>WHERE</code> clause, ensuring data integrity and security automatically.</p><h2 id="conclusion" tabindex="-1">Conclusion</h2><p>In this article, we successfully implemented automated, non-bypassable multi-tenancy filtering by building upon our existing architectural foundation. By defining tenancy as a behavioral interface and leveraging Linq2Db's <code>ExpressionMethod</code>, we were able to handle both direct and complex projected tenancy relationships with equal elegance. The final generated SQL proves that our composable filter system is robust, correctly layering multi-tenancy rules on top of soft-delete rules for all entities involved in a query.</p><p>This approach significantly reduces the risk of data leakage and removes the burden of security filtering from the business logic developer, fulfilling a core requirement of a true enterprise DAL.</p><p>You can review the complete implementation for this stage of the project on GitHub: <a href="https://github.com/ByteAether/EnterpriseDal/tree/part5" target="_blank" rel="noopener noreferrer">https://github.com/ByteAether/EnterpriseDal/tree/part5</a>.</p><p>Moving forward, we will tackle an even more granular security challenge: a generic, row-based permission system. The goal is to create a mechanism where any entity can be protected, requiring users to have explicit permission for that specific row in the database. If a user lacks the required permission, the entity will be automatically and transparently filtered from all query results, abstracting this complex conditional logic away from the business layer.</p></div></article><div class="social"><b>Share:</b> <a href="https://www.facebook.com/sharer/sharer.php?u=https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/" target="_blank" rel="noopener" aria-label="Share on Facebook (opens new tab)"><svg class="icon" aria-hidden="true"><use href="#fab-fa-facebook-f" xlink:href="#fab-fa-facebook-f"></use></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/" target="_blank" rel="noopener" aria-label="Share on LinkedIn (opens new tab)"><svg class="icon" aria-hidden="true"><use href="#fab-fa-linkedin" xlink:href="#fab-fa-linkedin"></use></svg> </a><a href="https://twitter.com/intent/tweet/?text=Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering&url=https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/" target="_blank" rel="noopener" aria-label="Share on Twitter (opens new tab)"><svg class="icon" aria-hidden="true"><use href="#fab-fa-twitter" xlink:href="#fab-fa-twitter"></use></svg> </a><a href="https://bsky.app/intent/compose?text=https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/" target="_blank" rel="noopener" aria-label="Share on Bluesky (opens new tab)"><svg class="icon" aria-hidden="true"><use href="#fab-fa-bluesky" xlink:href="#fab-fa-bluesky"></use></svg> </a><a aria-label="Copy page link to clipboard" onclick="copyUrlToClipboard()" role="link"><svg class="icon" aria-hidden="true"><use href="#fas-fa-link" xlink:href="#fas-fa-link"></use></svg></a></div></heading-anchors></main><aside style="grid-area:aside"><div class="sticky-container"><div class="recents-container aside-content"><span><b>Recent Posts</b></span><div><nav><ol><li><a href="/2026/the-weight-of-decisions-solving-weighted-random-sorting-at-scale/">The Weight of Decisions: Solving Weighted Random Sorting at Scale</a></li><li><a href="/2025/building-an-enterprise-data-access-layer-automated-user-auditing-and-series-wrap-up/">Building an Enterprise Data Access Layer: Automated User Auditing and Series Wrap-up</a></li><li><a href="/2025/building-an-enterprise-data-access-layer-composable-row-level-security/">Building an Enterprise Data Access Layer: Composable Row-Level Security</a></li><li><a href="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/">Announcing ByteAether.Ulid 1.3.2: .NET 10 Support and Optimized Design</a></li><li><a href="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/">Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering</a></li></ol></nav></div></div><div class="toc-container"><div class="toc-sticky aside-content"><span><b>Table of Contents</b></span><div><nav class="toc"><ol><li><a href="#1.-establishing-tenant-context-in-the-dal">1. Establishing Tenant Context in the DAL</a></li><li><a href="#2.-defining-the-tenancy-contract%3A-the-itenanted-interface">2. Defining the Tenancy Contract: The ITenanted Interface</a></li><li><a href="#3.-automating-interface-scaffolding">3. Automating Interface Scaffolding</a></li><li><a href="#4.-the-advanced-case%3A-projected-tenancy">4. The Advanced Case: Projected Tenancy</a></li><li><a href="#5.-observing-composable-filters-in-action">5. Observing Composable Filters in Action</a></li><li><a href="#conclusion">Conclusion</a></li></ol></nav></div></div></div></div></aside><div class="bottom-content" style="grid-area:bottom"><div class="series"><h2><a href="/series/enterprise-dal/">Enterprise DAL</a> series</h2><a href="/2025/building-an-enterprise-data-access-layer-the-foundation/" class="box">Building an Enterprise Data Access Layer: The Foundation<span style="color:var(--text-color)"> - 2025-09-25</span> </a><a href="/2025/building-an-enterprise-data-access-layer-database-and-code-structure/" class="box">Building an Enterprise Data Access Layer: Database and Code Structure<span style="color:var(--text-color)"> - 2025-10-07</span> </a><a href="/2025/building-an-enterprise-data-access-layer-automated-auditing/" class="box">Building an Enterprise Data Access Layer: Automated Auditing<span style="color:var(--text-color)"> - 2025-10-24</span> </a><a href="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/" class="box">Building an Enterprise Data Access Layer: Automated Soft-Delete<span style="color:var(--text-color)"> - 2025-11-04</span> </a><a href="/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/" class="box active">Building an Enterprise Data Access Layer: Composable Multi-Tenancy Filtering<span style="color:var(--text-color)"> - 2025-11-11</span> </a><a href="/2025/building-an-enterprise-data-access-layer-composable-row-level-security/" class="box">Building an Enterprise Data Access Layer: Composable Row-Level Security<span style="color:var(--text-color)"> - 2025-11-24</span> </a><a href="/2025/building-an-enterprise-data-access-layer-automated-user-auditing-and-series-wrap-up/" class="box">Building an Enterprise Data Access Layer: Automated User Auditing and Series Wrap-up<span style="color:var(--text-color)"> - 2025-12-01</span></a></div><hr/><div class="links-nextprev"><a href="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/" class="box"><picture><source srcset="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/-LcfyDA7N--400.avif" media="(width < 600px)" type="image/avif"/><source srcset="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/-LcfyDA7N--400.webp" media="(width < 600px)" type="image/webp"/><source srcset="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/-LcfyDA7N--600.avif" media="(width >= 600px)" type="image/avif"/><source srcset="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/-LcfyDA7N--600.webp" media="(width >= 600px)" type="image/webp"/><img src="/2025/announcing-byteaetherulid-132-net-10-support-and-optimized-design/-LcfyDA7N--600.jpeg" alt="Illustration image for an article" class="banner" loading="lazy"/></picture><div>Announcing ByteAether.Ulid 1.3.2: .NET 10 Support and Optimized Design</div><div style="color:var(--text-color)">← Newer</div></a><a href="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/" class="box"><picture><source srcset="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/CYD28ybHtg-400.avif" media="(width < 400px)" type="image/avif"/><source srcset="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/CYD28ybHtg-400.webp" media="(width < 400px)" type="image/webp"/><source srcset="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/CYD28ybHtg-600.avif" media="(width >= 400px)" type="image/avif"/><source srcset="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/CYD28ybHtg-600.webp" media="(width >= 400px)" type="image/webp"/><img src="/2025/building-an-enterprise-data-access-layer-automated-soft-delete/CYD28ybHtg-600.jpeg" alt="Illustration image for an article" class="banner" loading="lazy"/></picture><div>Building an Enterprise Data Access Layer: Automated Soft-Delete</div><div style="color:var(--text-color);text-align:right">Older →</div></a></div><div id="giscus-comments"></div><script>document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("giscus-comments"),e=document.createElement("script");e.src="https://giscus.app/client.js",e.setAttribute("data-repo","ByteAether/byteaether.github.io"),e.setAttribute("data-repo-id","R_kgDONqpeLw"),e.setAttribute("data-category","Comments"),e.setAttribute("data-category-id","DIC_kwDONqpeL84CmBvx"),e.setAttribute("data-mapping","pathname"),e.setAttribute("data-strict","0"),e.setAttribute("data-reactions-enabled","1"),e.setAttribute("data-emit-metadata","0"),e.setAttribute("data-input-position","top"),e.setAttribute("data-theme",themeManager.get()),e.setAttribute("data-lang","en"),e.setAttribute("data-loading","lazy"),e.setAttribute("crossorigin","anonymous"),e.async=!0,t.appendChild(e)})</script></div></div><footer><div class="footer-container"><div>ByteAether 2025</div><a href="https://github.com/ByteAether" title="ByteAether" target="_blank"><svg class="icon" aria-hidden="true"><use href="#fab-fa-github" xlink:href="#fab-fa-github"></use></svg></a><a href="/feed/feed.xml" title="Feed" target="_blank"><svg class="icon" aria-hidden="true"><use href="#fas-fa-square-rss" xlink:href="#fas-fa-square-rss"></use></svg></a><span onclick="themeManager.toggle()"><svg class="icon" aria-hidden="true"><use href="#fas-fa-sun" xlink:href="#fas-fa-sun"></use></svg></span></div></footer><svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" id="fab-fa-github"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fas" data-icon="square-rss" class="svg-inline--fa fa-square-rss" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" id="fas-fa-square-rss"><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM96 136c0-13.3 10.7-24 24-24c137 0 248 111 248 248c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200c-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24c83.9 0 152 68.1 152 152c0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104c-13.3 0-24-10.7-24-24zm0 120a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="fas-fa-sun"><path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" id="fas-fa-bars"><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="far" data-icon="calendar" class="svg-inline--fa fa-calendar" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" id="far-fa-calendar"><path fill="currentColor" d="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L64 64C28.7 64 0 92.7 0 128l0 16 0 48L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-256 0-48 0-16c0-35.3-28.7-64-64-64l-40 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40L152 64l0-40zM48 192l352 0 0 256c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="far" data-icon="clock" class="svg-inline--fa fa-clock" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="far-fa-clock"><path fill="currentColor" d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rectangle-list" class="svg-inline--fa fa-rectangle-list" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" id="fas-fa-rectangle-list"><path fill="currentColor" d="M0 96C0 60.7 28.7 32 64 32l448 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zM128 288a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm32-128a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM128 384a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm96-248c-13.3 0-24 10.7-24 24s10.7 24 24 24l224 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-224 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l224 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-224 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l224 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-224 0z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="fas-fa-tags"><path fill="currentColor" d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5L0 80C0 53.5 21.5 32 48 32l149.5 0c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" class="svg-inline--fa fa-facebook-f" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" id="fab-fa-facebook-f"><path fill="currentColor" d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" id="fab-fa-linkedin"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="fab-fa-twitter"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fab" data-icon="bluesky" class="svg-inline--fa fa-bluesky" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="fab-fa-bluesky"><path fill="currentColor" d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"></path></symbol></svg>
<svg style="display: none;"><symbol aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" id="fas-fa-link"><path fill="currentColor" d="M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"></path></symbol></svg><script defer="" type="module" src="/js/ovU2bMHLr3.js"></script>
		<!-- This page `https://byteaether.github.io/2025/building-an-enterprise-data-access-layer-composable-multi-tenancy-filtering/` was built on 2026-01-08 12:26:40 -->
		</body></html>